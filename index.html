<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="author" content="Conway">
<meta name="description" content="Documentation for Conway-Markdown (CMD).">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/cmd.css">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#7000ff">
<meta name="msapplication-TileColor" content="#00aba9">
<meta name="theme-color" content="#ffffff">
<title>Conway-Markdown (CMD) v3.999...</title>
</head>
<body>
<h1>Conway-Markdown (CMD) v3.999...</h1>
<p>
Conway-Markdown (CMD) is:
</p>
<ul>
<li>
A replacement-driven markup language inspired by Markdown.
</li>
<li>
A demonstration of the folly of throwing regex at a parsing problem.
</li>
<li>
The result of someone joking that
<q>the filenames would look like Windows executables from the 90s</q>.
</li>
<li>
Implemented in <a href="https://packages.debian.org/stable/python3">Python 3.{whatever Debian stable is at}</a>.
</li>
<li>
Licensed under "MIT No Attribution" (MIT-0).
</li>
</ul>
<h2 id="installation-and-usage"><a href="#installation-and-usage" class="permalink" aria-label="Permalink"></a>Installation and usage</h2>
<ol start="0">
<li>
Clone the <a href="https://github.com/conway-markdown/conway-markdown">repository of the Python implementation</a>:
<pre><code>$ git clone https://github.com/conway-markdown/conway-markdown
</code></pre>
<p>
Since <code>cmd.py</code> is <a href="https://github.com/conway-markdown/conway-markdown/blob/master/cmd.py">a shitty single-file script</a>,
it will not be turned into a proper Python package.
</p>
</li>
</ol>
<h3 id="linux-terminals"><a href="#linux-terminals" class="permalink" aria-label="Permalink"></a>Linux terminals, macOS Terminal, Git BASH for Windows</h3>
<ol>
<li>
Make an alias for <code>cmd.py</code> in whatever dotfile
you configure your aliases in:
<pre><code>alias cmd='path/to/cmd.py'
</code></pre>
</li>
<li>
Invoke the alias to convert a CMD file to HTML:
<pre><code>$ cmd [-h] [-v] [-x] [file.cmd]

Convert Conway-Markdown (CMD) to HTML.

positional arguments:
  file.cmd       Name of CMD file to be converted. Abbreviate as `file` or
                 `file.` for increased productivity. Omit to convert all CMD
                 files under the working directory.

optional arguments:
  -h, --help     show this help message and exit
  -v, --version  show program's version number and exit
  -x, --verbose  run in verbose mode (prints every replacement applied)
</code></pre>
</li>
</ol>
<h3 id="windows-command-prompt"><a href="#windows-command-prompt" class="permalink" aria-label="Permalink"></a>Windows Command Prompt</h3>
<ol>
<li>
Add the folder containing <code>cmd.py</code> to the <code>%PATH%</code> variable
</li>
<li>
Invoke <code>cmd.py</code> to convert a CMD file to HTML:
<pre><code>&gt; cmd.py [-h] [-v] [-x] [file.cmd]

Convert Conway-Markdown (CMD) to HTML.

positional arguments:
  file.cmd       Name of CMD file to be converted. Abbreviate as `file` or
                 `file.` for increased productivity. Omit to convert all CMD
                 files under the working directory.

optional arguments:
  -h, --help     show this help message and exit
  -v, --version  show program's version number and exit
  -x, --verbose  run in verbose mode (prints every replacement applied)
</code></pre>
</li>
</ol>
<p>
<strong>WARNING: on Windows, be careful not to run any <code>.cmd</code> files by accident;
they might break your computer. God save!</strong>
</p>
<h2 id="authoring-cmd-files"><a href="#authoring-cmd-files" class="permalink" aria-label="Permalink"></a>Authoring CMD files</h2>
<p>
CMD files are parsed thus:
</p>
<pre class="cmd"><code><b class="cmdr">«replacement rules»</b>
«delimiter»
<b class="cmdc">«main content»</b>
</code></pre>
<ul>
<li>
<b><code class="cmd cmdr">«replacement rules»</code></b> are user-defined CMD replacement rules
that will be used in addition to the standard CMD replacement rules.
</li>
<li>
<code class="cmd">«delimiter»</code> is the first occurrence of
3-or-more percent signs on its own line.
(If no <code class="cmd">«delimiter»</code> is found in the file,
the whole file is parsed as <code class="cmd cmdc">«main content»</code>.)
</li>
<li>
<b><code class="cmd cmdc">«main content»</code></b> is the CMD content
that will be converted to HTML according to
the standard and user-defined CMD replacement rules.
</li>
</ul>
<p>
In the implementation:
</p>
<ol>
<li>
An empty <b>replacement queue</b> is initialised.
</li>
<li>
<b><code>STANDARD_RULES</code></b> in <a href="https://github.com/conway-markdown/conway-markdown/blob/master/cmd.py"><code>cmd.py</code></a> are parsed,
and CMD replacement rules are added to the replacement queue accordingly.
</li>
<li>
<b><code class="cmd cmdr">«replacement rules»</code></b> in the CMD file are parsed,
and CMD replacement rules are added or inserted into the replacement queue
accordingly.
</li>
<li>
The CMD replacement rules in the replacement queue are
<b>applied sequentially to <code class="cmd cmdc">«main content»</code></b>
to convert it to HTML.
</li>
</ol>
<h2 id="cmd-attribute-specifications"><a href="#cmd-attribute-specifications" class="permalink" aria-label="Permalink"></a>CMD attribute specifications</h2>
<p>
When a CMD replacement rule is defined with
<code class="cmd cmdr">attribute_specifications</code> not equal to <code class="cmd cmdr">NONE</code>,
it allows HTML attributes to be specified by <b>CMD attribute specifications</b>
enclosed in curly brackets.
</p>
<p>
CMD attribute specifications may be of the following forms:
</p>
<pre class="cmd cmdc"><code>«name»<b>=</b>"«quoted value (whitespace allowed)»"
«name»<b>=</b>«bare-value»
<b>#</b>«id»
<b>.</b>«class»
<b>r</b>«rowspan»
<b>c</b>«colspan»
<b>w</b>«width»
<b>h</b>«height»
<b>-</b>«delete-name»
«boolean-name»
</code></pre>
<p>
In the two forms with an explicit equals sign,
the following abbreviations are allowed for <code class="cmd cmdc">«name»</code>:
</p>
<ul>
<li>
<code class="cmd cmdc">#</code> for <code class="cmd cmdc">id</code>
</li>
<li>
<code class="cmd cmdc">.</code> for <code class="cmd cmdc">class</code>
</li>
<li>
<code class="cmd cmdc">l</code> for <code class="cmd cmdc">lang</code>
</li>
<li>
<code class="cmd cmdc">r</code> for <code class="cmd cmdc">rowspan</code>
</li>
<li>
<code class="cmd cmdc">c</code> for <code class="cmd cmdc">colspan</code>
</li>
<li>
<code class="cmd cmdc">w</code> for <code class="cmd cmdc">width</code>
</li>
<li>
<code class="cmd cmdc">h</code> for <code class="cmd cmdc">height</code>
</li>
<li>
<code class="cmd cmdc">s</code> for <code class="cmd cmdc">style</code>
</li>
</ul>
<h3>Examples</h3>
<ol>
<li>
Behaviour for the standard rule <code>#inline-code</code>:
<ul>
<li>
CMD: <code class="cmd cmdc">`{#foo .bar l=en-AU title="baz"} test`</code>
</li>
<li>
HTML: <code class="html">&lt;code id="foo" class="bar" lang="en-AU" title="baz"&gt;test&lt;/code&gt;</code>
</li>
</ul>
</li>
<li>
Non-<code>class</code> values will supersede earlier ones:
<ul>
<li>
CMD: <code class="cmd cmdc">`{#1 #2 title=A title=B} test`</code>
</li>
<li>
HTML: <code class="html">&lt;code id="2" title="B"&gt;test&lt;/code&gt;</code>
</li>
</ul>
</li>
<li>
<code>class</code> values will accumulate:
<ul>
<li>
CMD: <code class="cmd cmdc">`{.a .b class=c} test`</code>
</li>
<li>
HTML: <code class="html">&lt;code class="a b c"&gt;test&lt;/code&gt;</code>
</li>
</ul>
</li>
<li>
Delete <code>class</code> to reset it:
<ul>
<li>
CMD: <code class="cmd cmdc">`{.a .b -class class=c} test`</code>
</li>
<li>
HTML: <code class="html">&lt;code class="c"&gt;test&lt;/code&gt;</code>
</li>
</ul>
</li>
</ol>
<h2 id="repository-links"><a href="#repository-links" class="permalink" aria-label="Permalink"></a>Repository links</h2>
<ul>
<li>
This page's CMD: <a href="https://github.com/conway-markdown/conway-markdown.github.io/blob/master/index.cmd">index.cmd</a>
</li>
<li>
This page's HTML: <a href="https://github.com/conway-markdown/conway-markdown.github.io/blob/master/index.html">index.html</a>
</li>
<li>
This page's repository: <a href="https://github.com/conway-markdown/conway-markdown.github.io/">conway-markdown.github.io</a>
</li>
<li>
Python implementation's repository: <a href="https://github.com/conway-markdown/conway-markdown">conway-markdown</a>
</li>
</ul>
<footer class="page-properties">
First created: 2020-04-05<br>
Last modified: 2022-04-30<br>
</footer>
</body>
</html>
